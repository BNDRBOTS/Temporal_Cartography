<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHOENIX_ARCHITECT // TEMPORAL_CARTOGRAPHY</title>
    <!-- Tailwind for structural framing -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & Three.js via ESM for pure browser performance -->
    <script type="importmap">
      {
        "imports": {
          "react": "https://esm.sh/react@18.2.0",
          "react-dom": "https://esm.sh/react-dom@18.2.0",
          "three": "https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.module.js"
        }
      }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;800&display=swap');
        body { margin: 0; background: #010102; color: #FFFFFF; font-family: 'Syne', sans-serif; overflow: hidden; }
        canvas { display: block; }
        ::-webkit-scrollbar { display: none; }
        .no-select { user-select: none; -webkit-user-select: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="module">
        import React, { useEffect, useRef, useState } from 'react';
        import ReactDOM from 'react-dom';
        import * as THREE from 'three';

        const THEME = {
            void: '#010102',
            text: '#FFFFFF',
            accent: '#D4FF00',
            border: 'rgba(255, 255, 255, 0.03)'
        };

        const PHASES = [
            { id: "PRIMORDIAL", label: "01 // THE VOID", desc: "Information density at the absolute zero point." },
            { id: "ACCELERATION", label: "02 // KINETIC FLOW", desc: "The transition from potential to realized momentum." },
            { id: "SINGULARITY", label: "03 // MARKET CAPTURE", desc: "The total collapse of competition into our gravity." }
        ];

        function App() {
            const canvasRef = useRef(null);
            const [activePhase, setActivePhase] = useState(0);
            const scrollRef = useRef(0);
            const targetScroll = useRef(0);
            const mouse = useRef({ x: 0, y: 0 });
            const [v, setV] = useState(0);

            useEffect(() => {
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ canvas: canvasRef.current, antialias: true, alpha: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

                const count = 80000;
                const positions = new Float32Array(count * 3);
                const colors = new Float32Array(count * 3);
                const color1 = new THREE.Color(THEME.accent);
                const color2 = new THREE.Color(THEME.void);

                for (let i = 0; i < count; i++) {
                    const i3 = i * 3;
                    const radius = Math.random() * 50;
                    const theta = Math.random() * Math.PI * 2;
                    const phi = Math.acos(2 * Math.random() - 1);
                    positions[i3] = radius * Math.sin(phi) * Math.cos(theta);
                    positions[i3 + 1] = radius * Math.sin(phi) * Math.sin(theta);
                    positions[i3 + 2] = radius * Math.cos(phi) - (i * 0.01);
                    const mixedColor = color1.clone().lerp(color2, Math.random() * 0.9);
                    colors[i3] = mixedColor.r; colors[i3 + 1] = mixedColor.g; colors[i3 + 2] = mixedColor.b;
                }

                const geometry = new THREE.BufferGeometry();
                geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
                const material = new THREE.PointsMaterial({ size: 0.05, vertexColors: true, transparent: true, opacity: 0.6, blending: THREE.AdditiveBlending });
                const points = new THREE.Points(geometry, material);
                scene.add(points);

                const grid = new THREE.GridHelper(200, 40, THEME.accent, THEME.void);
                grid.position.y = -20; grid.material.opacity = 0.05; grid.material.transparent = true;
                scene.add(grid);

                const animate = () => {
                    scrollRef.current += (targetScroll.current - scrollRef.current) * 0.05;
                    setV((targetScroll.current - scrollRef.current).toFixed(3));
                    camera.position.z = 15 - scrollRef.current;
                    camera.position.x += (mouse.current.x * 5 - camera.position.x) * 0.02;
                    camera.position.y += (mouse.current.y * 5 + 2 - camera.position.y) * 0.02;
                    points.rotation.z += 0.001;
                    
                    const cp = Math.floor(scrollRef.current / 33.34);
                    setActivePhase(prev => (cp !== prev && cp >= 0 && cp < 3) ? cp : prev);
                    
                    renderer.render(scene, camera);
                    requestAnimationFrame(animate);
                };
                animate();

                const onWheel = (e) => { targetScroll.current = Math.max(0, Math.min(100, targetScroll.current + e.deltaY * 0.01)); };
                const onMM = (e) => { mouse.current.x = (e.clientX / window.innerWidth) * 2 - 1; mouse.current.y = -(e.clientY / window.innerHeight) * 2 + 1; };
                const onResize = () => { camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight); };
                
                window.addEventListener('wheel', onWheel);
                window.addEventListener('mousemove', onMM);
                window.addEventListener('resize', onResize);
                return () => { window.removeEventListener('wheel', onWheel); window.removeEventListener('mousemove', onMM); window.removeEventListener('resize', onResize); };
            }, []);

            return React.createElement('div', { className: 'fixed inset-0 w-full h-screen no-select' }, 
                React.createElement('canvas', { ref: canvasRef, className: 'absolute inset-0 pointer-events-none' }),
                React.createElement('div', { className: 'relative z-10 w-full h-full p-6 md:p-12 flex flex-col justify-between pointer-events-none' },
                    React.createElement('div', { className: 'flex justify-between items-start w-full' },
                        React.createElement('div', { className: 'flex flex-col gap-1' },
                            React.createElement('div', { className: 'text-[10px] font-bold tracking-[0.4em] text-white/30 uppercase' }, 'System Identity'),
                            React.createElement('div', { className: 'text-xl md:text-2xl font-black tracking-tighter' }, 'PHOENIX_ARCHITECT')
                        )
                    ),
                    React.createElement('div', { className: 'w-full flex flex-col items-start justify-center min-h-[40vh]' },
                        React.createElement('div', { className: 'w-full h-auto overflow-visible' },
                            React.createElement('h1', { 
                                className: 'text-[14vw] md:text-[12vw] leading-[0.85] font-black italic tracking-tighter text-white transition-transform duration-700 ease-out whitespace-nowrap md:whitespace-normal',
                                style: { transform: `translateY(${(scrollRef.current % 33.34) * -1.5}px)` }
                            }, PHASES[activePhase]?.label.split(' // ')[1])
                        ),
                        React.createElement('p', { className: 'mt-6 md:mt-10 text-sm md:text-lg font-light text-white/40 leading-relaxed max-w-[80vw] md:max-w-sm' }, PHASES[activePhase]?.desc)
                    ),
                    React.createElement('div', { className: 'flex justify-between items-end border-t border-white/5 pt-6 md:pt-8 w-full' },
                        React.createElement('div', { className: 'hidden md:block text-[10px] font-mono text-white/20' }, 'LOC_LAT: 33.4484 / LOC_LONG: -112.0740'),
                        React.createElement('div', { className: 'flex gap-8 md:gap-12 w-full md:w-auto justify-between md:justify-end' },
                            React.createElement('div', { className: 'flex flex-col' },
                                React.createElement('span', { className: 'text-[9px] md:text-[10px] font-bold text-[#D4FF00]' }, 'VELOCITY'),
                                React.createElement('span', { className: 'text-lg md:text-xl font-mono' }, v)
                            ),
                            React.createElement('div', { className: 'flex flex-col' },
                                React.createElement('span', { className: 'text-[9px] md:text-[10px] font-bold text-white/30' }, 'Z_DEPTH'),
                                React.createElement('span', { className: 'text-lg md:text-xl font-mono' }, `-${scrollRef.current.toFixed(1)}m`)
                            )
                        )
                    )
                ),
                React.createElement('div', { 
                    className: 'absolute inset-0 opacity-[0.15] pointer-events-none contrast-150 mix-blend-overlay',
                    style: { backgroundImage: 'url("https://grainy-gradients.vercel.app/noise.svg")' }
                })
            );
        }

        ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>
</body>
</html>
